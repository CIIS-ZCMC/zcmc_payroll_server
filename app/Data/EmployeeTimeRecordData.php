<?php

namespace App\Data;

use Illuminate\Http\Request;
use Spatie\LaravelData\Data;

class EmployeeTimeRecordDTO extends Data
{
    public function __construct(
        public int $employee_id,
        public int $payroll_period_id,
        public float $minutes,
        public float $daily,
        public float $hourly,
        public float $absent_rate,
        public float $undertime_rate,
        public float $base_salary,
        public float $initial_net_pay,
        public float $net_pay,
        public float $total_working_minutes,
        public float $total_working_minutes_with_leave,
        public float $total_working_hours,
        public float $total_working_hours_with_leave,
        public float $total_overtime_minutes,
        public float $total_undertime_minutes,
        public float $total_official_business_minutes,
        public float $total_official_time_minutes,
        public float $total_leave_minutes,
        public float $total_night_duty_hours,
        public int $no_of_present_days,
        public int $no_of_present_days_with_leave,
        public int $no_of_leave_wo_pay,
        public int $no_of_leave_w_pay,
        public int $no_of_absences,
        public int $no_of_invalid_entry,
        public int $no_of_day_off,
        public int $no_of_schedule,
        public string $night_differentials,
        public string $absent_dates,
        public string $month,
        public string $year,
        public ?string $from,
        public ?string $to,
        public bool $is_night_shift,
        public bool $is_active,
        public ?string $status,  
    ){}

    public static function fromRequest(Request $request) : self
    {
       return new self(
            $request['employee_id'],
            $request['payroll_period_id'],
            $request['minutes'],
            $request['daily'],
            $request['hourly'],
            $request['absent_rate'],
            $request['undertime_rate'],
            $request['base_salary'],
            $request['initial_net_pay'],
            $request['net_pay'],
            $request['total_working_minutes'],
            $request['total_working_minutes_with_leave'],
            $request['total_working_hours'],
            $request['total_working_hours_with_leave'],
            $request['total_overtime_minutes'],
            $request['total_undertime_minutes'],
            $request['total_official_business_minutes'],
            $request['total_official_time_minutes'],
            $request['total_leave_minutes'],
            $request['total_night_duty_hours'],
            $request['no_of_present_days'],
            $request['no_of_present_days_with_leave'],
            $request['no_of_leave_wo_pay'],
            $request['no_of_leave_w_pay'],
            $request['no_of_absences'],
            $request['no_of_invalid_entry'],
            $request['no_of_day_off'],
            $request['no_of_schedule'],
            $request['night_differentials'],
            $request['absent_dates'],
            $request['month'],
            $request['year'],
            $request['from'] ?? null,
            $request['to'] ?? null,
            $request['is_night_shift'],
            $request['is_active'],
            $request['status'] ?? null,
       );
    }

    public function toArray(): array
    {
        return [
            'employee_id' => $this->employee_id,
            'payroll_period_id' => $this->payroll_period_id,
            'minutes' => $this->minutes,
            'daily' => $this->daily,
            'hourly' => $this->hourly,
            'absent_rate' => $this->absent_rate,
            'undertime_rate' => $this->undertime_rate,
            'base_salary' => $this->base_salary,
            'initial_net_pay' => $this->initial_net_pay,
            'net_pay' => $this->net_pay,
            'total_working_minutes' => $this->total_working_minutes,
            'total_working_minutes_with_leave' => $this->total_working_minutes_with_leave,
            'total_working_hours' => $this->total_working_hours,
            'total_working_hours_with_leave' => $this->total_working_hours_with_leave,
            'total_overtime_minutes' => $this->total_overtime_minutes,
            'total_undertime_minutes' => $this->total_undertime_minutes,
            'total_official_business_minutes' => $this->total_official_business_minutes,
            'total_official_time_minutes' => $this->total_official_time_minutes,
            'total_leave_minutes' => $this->total_leave_minutes,
            'total_night_duty_hours' => $this->total_night_duty_hours,
            'no_of_present_days' => $this->no_of_present_days,
            'no_of_present_days_with_leave' => $this->no_of_present_days_with_leave,
            'no_of_leave_wo_pay' => $this->no_of_leave_wo_pay,
            'no_of_leave_w_pay' => $this->no_of_leave_w_pay,
            'no_of_absences' => $this->no_of_absences,
            'no_of_invalid_entry' => $this->no_of_invalid_entry,
            'no_of_day_off' => $this->no_of_day_off,
            'no_of_schedule' => $this->no_of_schedule,
            'night_differentials' => $this->night_differentials,
            'absent_dates' => $this->absent_dates,
            'month' => $this->month,
            'year' => $this->year,
            'from' => $this->from ?? null,
            'to' => $this->to ?? null,
            'is_night_shift' => $this->is_night_shift,
            'is_active' => $this->is_active,
            'status' => $this->status ?? null,
        ];

    }
}